# Clawboard (爪爪鍵盤) - iOS 蝦米輸入法

Clawboard 是一個功能完整的 iOS 蝦米輸入法應用程式，提供流暢的中文輸入體驗與多項智慧輔助功能。

## 字根檔案產生

以嘸蝦米字根為例，字根表格檔案（`boshiamy_table.bin`）可透過以下網址產生：

**[https://dimanai.github.io/clawboard-usage/](https://dimanai.github.io/clawboard-usage/)**

## 主要功能

### 🎯 核心輸入功能

- **蝦米字根輸入**：完整支援蝦米輸入法字根系統，準確快速
- **即時候選字顯示**：輸入字根時即時顯示候選字列表
- **視覺輸入回饋**：動態標示可用按鍵，避免無效輸入
- **快速詞庫**：自訂常用詞彙快捷鍵，快速輸入頻繁使用的字詞
- **中文字查碼**：支援蝦米碼、注音、漢語拼音、通用拼音、威妥瑪拼音查詢

### 🧠 智慧預測系統

- **記憶詞頻預測**：基於 Bigram（二元組）模型，學習使用者輸入習慣
- **下一字智慧推薦**：輸入文字後自動推薦可能的下一個字
- **自動修正機制**：偵測刪除行為，自動調整錯誤的詞頻記錄
- **詞頻資料管理**：支援匯出/匯入/清除詞頻資料，可在不同裝置間同步

### 🤖 AI 輔助工具

提供多種 AI 文字處理功能（支援 OpenAI、Claude、Gemini，皆需自行提供 API Key）：

- **校正**：自動偵測並修正錯別字
- **優化**：將文字改寫得更自然、通順、易讀
- **專業**：轉換成更正式、專業的表達方式
- **翻釋**：智慧翻譯（中文↔英文）
- **簡短**：精簡冗詞，保留核心意思
- **幽默**：轉換成幽默風趣的表達
- **學術**：改寫成學術論文風格
- **文言文**：轉換成文言文表達
- **工程師語氣**：轉換成工程師慣用的技術語言
- **剪貼簿草稿**：從剪貼簿內容生成草稿

### ⌨️ 編輯與輔助功能

- **多種鍵盤模式**：中文、數字符號、計算機模式
- **內建計算機**：直接在鍵盤上進行運算，結果可立即輸入
- **游標快速移動**：長按空白鍵，左右滑動快速移動游標
- **編輯工具列**：剪下、複製、貼上快捷按鈕
- **工具列自訂排序**：可在設定中調整工具列按鈕順序
- **Shift/CapsLock**：支援單次大寫與大寫鎖定（雙擊 Shift）
- **標點符號選擇**：快速切換全形/半形標點符號
- **按鍵預覽**：觸控時顯示放大預覽，確認輸入

### 📊 統計與管理

- **OpenAI 使用量統計**：即時顯示 Token 用量與預估費用
- **詞頻資料統計**：顯示詞組數量、關聯詞數量、資料大小
- **資料備份與還原**：匯出/匯入詞頻資料，保護使用習慣

## 技術特點

### 架構設計

- **主應用 (爪爪鍵盤)**：提供設定介面、快速詞庫管理、查碼工具
- **鍵盤擴展 (Clawboard)**：實現輸入法核心功能
- **共享模組 (Shared)**：詞庫、詞頻儲存與 AI 服務設定

### 核心技術

- **有限狀態自動機 (FSA)**：高效處理字根輸入與狀態轉換
- **二進制表格格式**：優化記憶體使用與查詢效能
- **Bigram 預測模型**：智慧學習使用者輸入模式
- **App Group 資料共享**：主應用與鍵盤擴展無縫協作
- **延遲載入與背景寫入**：確保鍵盤啟動速度與流暢度

### 開發技術

- Swift 5 與 SwiftUI
- UIKit 鍵盤介面
- 僅支援 iOS 26.0+
- AI 功能支援 OpenAI、Claude、Gemini（皆需自行提供 API Key）

## 安裝與啟用

### 安裝應用程式

1. 下載並安裝 爪爪鍵盤 應用程式
2. 開啟 App，完成初始設定

### 啟用鍵盤

1. 開啟「設定 > 一般 > 鍵盤 > 鍵盤 > 新增鍵盤」
2. 選擇「clawboard」
3. 進入「clawboard」，開啟「允許完整取用」（AI 功能需要）
4. 在任一輸入框按地球鍵切換到 clawboard

### 設定 AI 功能

1. 開啟 爪爪鍵盤 主應用
2. 進入「設定 > AI 優化」
3. 選擇 AI Provider：
   - **OpenAI**：需填入 API Key
   - **Claude**：需填入 API Key
   - **Gemini**：需填入 API Key
